<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>⭐ Planity White Label ⭐️</title>
    <link href="./index.css" rel="stylesheet">
</head>
<body class="body" id="body">

<div class="background" id="background"></div>

<div class="mainText">
    <span>P</span>
    <span>L</span>
    <span>A</span>
    <span>N</span>
    <span>I</span>
    <span>T</span>
    <span>Y</span>
</div>
<div class="container">
    <fieldset class="sub-container">
        <legend class="language-text">français</legend>
        <a class="links" href="lab/fr.html">Lab</a>
        <a class="links" href="staging/fr.html">Staging</a>
        <a class="links" href="production/fr.html">Production</a>
    </fieldset>
    <fieldset class="sub-container">
        <legend class="language-text">Deutsch</legend>
        <a class="links" href="lab/de.html">Lab</a>
        <a class="links" href="staging/de.html">Staging</a>
        <a class="links" href="production/de.html">Production</a>
    </fieldset>
</div>
</body>
</html>
<script async>
    const wrapper = document.getElementById("background");

    let columns = 0;
    let rows = 0;

    const createTile = (index) => {
        const tile = document.createElement("div");
        tile.classList.add("tile");
        const x = (index % columns)
        const y =  Math.floor(index / columns)
        const delay = (x+y) * 50 + 0;
        tile.style.setProperty("--delay", `${delay}ms`)
        return tile;
    };

    const createTiles = quantity => {
        Array.from(Array(quantity)).forEach((_, index) => {
            wrapper.appendChild(createTile(index));
        });
    };

    const createGrid = () => {
        wrapper.innerHTML = "";

        const size = document.body.clientWidth > 800 ? 30 : 50;

        columns = Math.floor(document.body.clientWidth / size);
        rows = Math.floor(document.body.clientHeight / size);

        wrapper.style.setProperty("--columns", columns);
        wrapper.style.setProperty("--rows", rows);

        createTiles(columns * rows);
    };

    createGrid();

    let timeout;
    window.onresize = function() {
        clearTimeout(timeout);
        timeout = setTimeout(createGrid, 100);
    };
</script>
